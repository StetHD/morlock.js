/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function i(e,t){return r(y.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&v[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+w.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+E.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.7.1",c={},h=t.documentElement,p="modernizr",d=t.createElement(p),v=d.style,m,g={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",w=b.split(" "),E=b.toLowerCase().split(" "),S={},x={},T={},N=[],C=N.slice,k,L=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:p+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',p,'">',e,"</style>"].join(""),f.id=p,(l?f:c).innerHTML+=s,c.appendChild(f),l||(c.style.background="",c.style.overflow="hidden",a=h.style.overflow,h.style.overflow="hidden",h.appendChild(c)),o=n(f,e),l?f.parentNode.removeChild(f):(c.parentNode.removeChild(c),h.style.overflow=a),!!o},A=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return L("@media "+t+" { #"+p+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},O=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=s(i[e],"function"),s(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),M={}.hasOwnProperty,_;!s(M,"undefined")&&!s(M.call,"undefined")?_=function(e,t){return M.call(e,t)}:_=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=C.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(C.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(C.call(arguments)))};return r}),S.backgroundsize=function(){return f("backgroundSize")};for(var D in S)_(S,D)&&(k=D.toLowerCase(),c[k]=S[D](),N.push((c[k]?"":"no-")+k));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)_(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(h.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),d=m=null,c._version=l,c._prefixes=y,c._domPrefixes=E,c._cssomPrefixes=w,c.mq=A,c.hasEvent=O,c.testProp=function(e){return u([e])},c.testAllProps=f,c.testStyles=L,c.prefixed=function(e,t,n){return t?f(e,t,n):f(e,"pfx")},c}(this,this.document),function(){var e=new Image;e.onerror=function(){Modernizr.addTest("webp",!1)},e.onload=function(){Modernizr.addTest("webp",function(){return e.width==1})},e.src="data:image/webp;base64,UklGRiwAAABXRUJQVlA4ICAAAAAUAgCdASoBAAEAL/3+/3+CAB/AAAFzrNsAAP5QAAAAAA=="}(),function(e,t){if(typeof define=="function"&&define.amd)define(t);else{var n=t();e.ResizeController=n.ResizeController,e.ResponsiveImage=n.ResponsiveImage,e.ScrollController=n.ScrollController,e.ElementVisibleController=n.ElementVisibleController,e.ScrollPositionController=n.ScrollPositionController,e.morlock=n.morlock}}(this,function(){var e,t,n;return function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../vendor/almond",function(){}),n("morlock/core/util",["exports"],function(e){function t(e,t){return Array.prototype.slice.call(e,t)}function n(e){return t(e,0)}function r(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function i(e,t){var n,r=0;return function(){var s=arguments,o=+(new Date),u=t-(o-r);u<=0?(clearTimeout(n),n=null,r=o,j(e,s)):n||(n=setTimeout(function(){r=+(new Date),n=null,j(e,s)},u))}}function s(e,t){var n=null;return function(){clearTimeout(n);var i=arguments;n=setTimeout(function(){n=null,e.apply(null,i)},t)}}function o(){return Modernizr.mq.apply(Modernizr,arguments)}function u(e){return e}function a(e,t){var n={};return t=S(t)?t:JSON.stringify,function(){var i=t.apply(this,arguments);return S(n[i])||(n[i]=e.apply(this,arguments)),n[i]}}function f(e,t,n){if(o("(min-"+e+":"+window[t]+"px)"))return function(){return window[t]};var r=document.documentElement;return function(){return r[n]}}function p(){return h&&window.pageYOffset!=document.documentElement.scrollTop?document.documentElement.scrollTop:window.pageYOffset||document.documentElement.scrollTop}function d(e,t,n){t=typeof t=="number"&&t||0,e&&!e.nodeType&&(e=e[0]);if(!e||1!==e.nodeType)return!1;var r=e.getBoundingClientRect();S(n)||(n=p());var i=n<0?r.top+n:r.top,s={right:r.right+t,left:r.left-t,bottom:r.bottom+t,top:i-t};return s.width=s.right-s.left,s.height=s.bottom-s.top,s}function v(e,t){return N(function(n,r){return n[r]=e(t[r],r),n},g(t),{})}function m(e,t){return N(function(t,n){return Y(t,e(n))},t,[])}function g(e){if(!e)return null;if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function y(e,t){return e[t]}function b(e,t,n){e[t]=n}function w(e){return function(){return j(e,Array.prototype.reverse.call(arguments))}}function E(e){return!e||!e.length}function S(e){return"undefined"!=typeof e}function x(e,t){return S(e)?e:t}function T(e){var t=P(y,e);return m(t,g(e))}function N(e,t,n){for(var r=0;t&&r<t.length;r++)n=e(n,t[r]);return n}function C(e,t){return N(function(t,n){return K(e(n))?Y(t,n):t},t,[])}function k(e,t){return N(function(t,n){return K(e(n))?t:Y(t,n)},t,[])}function L(e){return!e}function A(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;var i=toString.call(e);if(i!=toString.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(_.isFunction(o)&&o instanceof o&&_.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=A(e[a],t[a],n,r)))break}else{for(var l in e)if(_.has(e,l)){a++;if(!(f=_.has(t,l)&&A(e[l],t[l],n,r)))break}if(f){for(l in t)if(_.has(t,l)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f}function O(e,t){return A(e,t,[],[])}function M(e,t){return function(){var r=e;"function"==typeof e&&(r=j(e,arguments));if(r)return j(t,arguments)}}function D(e,t){return Function.prototype.bind?e.bind(t):function(){return e.apply(t,arguments)}}function P(e){var n=F(arguments);return function(){var i=t(arguments,0);return e.apply(this,n.concat(i))}}function H(e,t){return function(){setTimeout(P(e,arguments),t)}}function B(e,t){return H(e,S(t)?t:1)()}function j(e,t){return e.apply(null,t)}function F(e,n){return n=S(n)?n:1,t(e,n)}function I(e){return j(e,F(arguments))}function W(e,t,n){return R.call(e,t,n,!1),function(){U.call(e,t,n,!1)}}function X(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),z.call(e,n)}function V(e,t){return t[e]}function $(e){return e[0]}function J(e){return e[e.length-1]}function Q(e,t){var r=n(e);return Array.prototype.unshift.call(r,t),r}function G(e,t){var r=n(e);return Array.prototype.shift.call(r,t),r}function Y(e,t){var r=n(e);return Array.prototype.push.call(r,t),r}function Z(e,t){var r=n(e);return Array.prototype.pop.call(r,t),r}function et(e,t){var r=n(e);return Array.prototype.sort.call(r,t),r}function tt(){var e=arguments;return function(n){for(var r=e.length-1;r>=0;--r)n=e[r](n);return n}}function nt(e){var t=F(arguments),n=!1;return function(){if(!n)return n=!0,j(e,t)}}function rt(e){return parseInt(e,10)}function it(e){return function(){return e}}e.testMQ=o,e.identity=u,e.memoize=a;var l=f("width","innerWidth","clientWidth");e.getViewportWidth=l;var c=f("height","innerHeight","clientHeight");e.getViewportHeight=c;var h=navigator.userAgent.indexOf("MSIE 10")!==-1;e.isDefined=S,e.getOption=x;var q=[],R=window.addEventListener||function(t,n){var r=this;q.unshift([r,t,n,function(e){e.currentTarget=r,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||r,n.call(r,e)}]),this.attachEvent("on"+t,q[0][3])},U=window.removeEventListener||function(t,n){for(var r=0,i;i=q[r];++r)if(i[0]==this&&i[1]==t&&i[2]==n)return this.detachEvent("on"+t,q.splice(r,1)[0][3])},z=window.dispatchEvent||function(e){return this.fireEvent("on"+e.type,e)};e.dispatchEvent=X;var K=P(O,!0),st=function(){var e=window.requestAnimationFrame,t=0,n=["webkit","moz"];for(var r=0;r<n.length&&!e;++r)e=window[n[r]+"RequestAnimationFrame"];return e||(e=function(n,r){var i=(new Date).getTime(),s=Math.max(0,16-(i-t)),o=window.setTimeout(function(){n(i+s)},s);return t=i+s,o}),e}();e.indexOf=r,e.throttle=i,e.debounce=s,e.getRect=d,e.mapObject=v,e.objectKeys=g,e.functionBind=D,e.partial=P,e.map=m,e.apply=j,e.objectVals=T,e.call=I,e.push=Y,e.pop=Z,e.unshift=Q,e.equals=O,e.not=L,e.delay=H,e.unshift=Q,e.nth=V,e.first=$,e.last=J,e.compose=tt,e.select=C,e.isTrue=K,e.get=y,e.shift=G,e.eventListener=W,e.when=M,e.reduce=N,e.once=nt,e.sortBy=et,e.parseInteger=rt,e.set=b,e.flip=w,e.copyArray=n,e.defer=B,e.slice=t,e.isEmpty=E,e.reject=k,e.rest=F,e.constantly=it,e.rAF=st,e.documentScrollY=p}),n("morlock/core/stream",["morlock/core/util","exports"],function(e,t){function T(e){if(!(this instanceof T))return new T(e);this.trackSubscribers=!!e,this.subscribers=null,this.subscriberSubscribers=null,this.streamID=x++,this.value=null,this.closed=!1}function N(e){return new T(e)}function C(e,t){if(e.closed)return;s(m(b(w),t),e.subscribers),e.value=t}function k(e){return e.value}function L(e,t){if(e.closed)return;e.subscribers=e.subscribers||[],e.subscribers.push(t),e.trackSubscribers&&s(m(b(w),t),e.subscriberSubscribers)}function A(e){if(e.closed)return;e.closed=!0,e.value=null,e.subscribers&&(e.subscribers.length=0)}function O(e,t){if(e.subscribers){var n=E(e.subscribers,t);n!==-1&&e.subscribers.splice(n,1)}}function M(e,t){e.trackSubscribers&&(e.subscriberSubscribers=e.subscriberSubscribers||[],e.subscriberSubscribers.push(t))}function _(e,t){var n=N(!0),r=m(C,n),i=m(h,e,t,r);return M(n,g(i)),n}function D(e){var t=N(!0),n=m(C,t),r=m(setInterval,n,e);return M(t,g(r)),t}function P(e){var t=N(!0),n=m(C,t),r=m(setTimeout,n,e);return M(t,g(r)),t}function B(){var e=y(arguments),t=N(),n=m(C,t);return s(function(e){return L(e,n)},e),t}function F(e,t,n){var r=N(),i=m(C,r),u=s(function(e){return e===":e:"?i:e},n);return L(e,o(o,[t,u])),r}function I(e,t){return e<=0?t:F(t,i,[j,e])}function q(e,t){return e<=0?t:F(t,r,[j,e])}function R(e,t){return e<=0?t:F(t,n,[j,e])}function U(e,t){return F(t,p,[j,e])}function z(e,t){return F(t,d,[e,j])}function W(e,t){return z(p(m(v,e),a),t)}function X(e){var t;return z(function(e){return v(t,e)?!1:(t=e,!0)},e)}function V(e,t){return F(t,p,[j,m(k,e)])}var n=e.debounce,r=e.throttle,i=e.delay,s=e.map,o=e.apply,u=e.memoize,a=e.first,f=e.rest,l=e.push,o=e.apply,c=e.unshift,h=e.eventListener,p=e.compose,d=e.when,v=e.equals,m=e.partial,g=e.once,y=e.copyArray,b=e.flip,w=e.call,E=e.indexOf,S=e.rAF,x=0,H=u(function(){function r(e){n(e),S(r)}var t=N(!0),n=m(C,t);return M(t,g(r)),t}),j=":e:";t.skipDuplicates=X,t.create=N,t.emit=C,t.getValue=k,t.onValue=L,t.offValue=O,t.onSubscription=M,t.createFromEvents=_,t.timeout=P,t.createFromRAF=H,t.merge=B,t.delay=I,t.throttle=q,t.debounce=R,t.map=U,t.filter=z,t.filterFirst=W,t.sample=V,t.interval=D}),n("morlock/streams/resize-stream",["morlock/core/stream","morlock/core/util","exports"],function(e,t,n){function l(){return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}var r=e,i=t.getOption,s=t.memoize,o=t.dispatchEvent,u=t.defer,a=t.partial,f=s(function(t){t=t||{};var n=i(t.orientationChangeDelayMs,100),s=r.merge(r.createFromEvents(window,"resize"),r.delay(n,r.createFromEvents(window,"orientationchange")));return u(a(o,window,"resize"),10),r.skipDuplicates(r.map(l,s))});n.create=f}),n("morlock/streams/breakpoint-stream",["morlock/core/util","morlock/core/stream","morlock/streams/resize-stream","exports"],function(e,t,n,r){function p(e,t){var n=h.create(),r;t.debounceMs?r=c.debounce(t.debounceMs,n):t.throttleMs?r=c.throttle(t.throttleMs,n):r=n;var l=o(function(e,t){var n=c.create(),i="string"==typeof e?e:d(e);return c.onValue(r,function(){var e=c.getValue(n);e=e!==null?e:!1,e!==f(i)&&c.emit(n,!e)}),c.map(s(a,[t]),n)},e);return u(c.merge,i(l))}function d(e){var t;if("undefined"!=typeof e.mq)t=e.mq;else{var n=l(e.max,Infinity),r=l(e.min,0);t="only screen",n<Infinity&&(t+=" and (max-width: "+n+"px)"),r>0&&(t+=" and (min-width: "+r+"px)")}return t}var i=e.objectVals,s=e.partial,o=e.mapObject,u=e.apply,a=e.push,f=e.testMQ,l=e.getOption,c=t,h=n;r.create=p}),n("morlock/controllers/resize-controller",["morlock/core/util","morlock/core/stream","morlock/streams/breakpoint-stream","morlock/streams/resize-stream","exports"],function(e,t,n,r,i){function b(e){if(!(this instanceof b))return new b(e);e=e||{};var t=y.create(e),n=v(e.debounceMs,200),r=m.debounce(n,t),i;"undefined"!=typeof e.breakpoints&&(i=g.create(e.breakpoints,{throttleMs:e.throttleMs,debounceMs:v(e.breakpointDebounceMs,n)})),this.on=function(e,n){var s;"resizeEnd"===e?s=r:"resize"===e?s=t:"breakpoint"===e&&i&&(s=m.map(S,i)),s&&m.onValue(s,n)};var u={};i&&m.onValue(i,function(e){u[e[0]]=e[1]}),this.getActiveBreakpoints=function(){var t=f(l,o(h,u));return c(t,s(u))}}function S(e){return[a(e),e[1]?w:E]}var s=e.objectKeys,o=e.partial,u=e.equals,a=e.first,f=e.compose,l=e.isTrue,c=e.select,h=e.get,p=e.shift,d=e.nth,v=e.getOption,m=t,g=n,y=r,w="enter",E="exit";i["default"]=b}),n("morlock/streams/scroll-stream",["morlock/core/stream","morlock/core/util","exports"],function(e,t,n){var r=e,i=t.documentScrollY,s=t.memoize,o=t.dispatchEvent,u=t.defer,a=t.partial,f=s(function(){var t,n=!0,s=r.createFromEvents(window,"scroll");r.onValue(s,function(){n=!0});var f=r.createFromRAF(),l=r.filter(function(){if(!n)return!1;n=!1;var e=i();return t!==e?(t=e,!0):!1},f);return u(a(o,window,"scroll"),10),r.map(function(){return t},l)});n.create=f}),n("morlock/streams/element-tracker-stream",["morlock/core/util","morlock/core/stream","morlock/streams/scroll-stream","morlock/streams/resize-stream","exports"],function(e,t,n,r,i){function l(e,t,n){function h(){i=s(),p()}function p(t){var n=o(e,c,t),s=!!n&&n.bottom>=0&&n.top<i;l&&!s?(l=!1,u.emit(r,"exit")):!l&&s&&(l=!0,u.emit(r,"enter"))}var r=u.create(),i,l=!1,c=n&&"number"==typeof n.buffer?n.buffer:0;return u.onValue(a.create(),p),u.onValue(f.create(),h),h(),r}var s=e.getViewportHeight,o=e.getRect,u=t,a=n,f=r;i.create=l}),n("morlock/streams/scroll-tracker-stream",["morlock/core/util","morlock/core/stream","morlock/streams/scroll-stream","exports"],function(e,t,n,r){function a(e){var t=u.create(),n=o.create(),r=!1,i=!0;return o.onValue(t,function(t){(i||r)&&t<e?(r=!1,o.emit(n,["before",e])):(i||!r)&&t>=e&&(r=!0,o.emit(n,["after",e])),i=!1}),n}var i=e.getViewportHeight,s=e.getRect,o=t,u=n;r.create=a}),n("morlock/controllers/scroll-controller",["morlock/core/util","morlock/core/stream","morlock/streams/scroll-stream","morlock/streams/element-tracker-stream","morlock/streams/scroll-tracker-stream","exports"],function(e,t,n,r,i,s){function v(e){if(!(this instanceof v))return new v(e);e=e||{};var t=h.create(),n=l(e.debounceMs,200),r=c.debounce(n,t);this.on=function(n,i){"scrollEnd"===n?c.onValue(r,i):"scroll"===n&&c.onValue(t,i)}}var o=e.partial,u=e.equals,a=e.compose,f=e.first,l=e.getOption,c=t,h=n,p=r,d=i;s["default"]=v}),n("morlock/controllers/element-visible-controller",["morlock/core/util","morlock/core/stream","morlock/streams/element-tracker-stream","exports"],function(e,t,n,r){function a(e,t){function l(e,t){var i="both",s;e.length===1?s=e[0]:(i=e[0],s=e[1]);var u;i==="both"?u=n:i==="enter"?u=r:i==="exit"&&(u=f),t(u,s),t===o.onValue&&n.value===i&&o.emit(u,n.value)}if(this instanceof a){var n=u.create(e,t),r=o.filter(i(s,"enter"),n),f=o.filter(i(s,"exit"),n);return{on:function(){return l(arguments,o.onValue),this},off:function(){return l(arguments,o.offValue),this}}}return new a(e,t)}var i=e.partial,s=e.equals,o=t,u=n;r["default"]=a}),n("morlock/controllers/scroll-position-controller",["morlock/core/stream","morlock/streams/scroll-tracker-stream","exports"],function(e,t,n){function s(e){function u(e,r){var i="both",s;e.length===1?s=e[0]:(i=e[0],s=e[1]);var u;i==="both"?u=t:i==="before"?u=n:i==="after"&&(u=o),r(u,s)}if(this instanceof s){var t=i.create(e),n=r.filterFirst("before",t),o=r.filterFirst("after",t);return{on:function(){return u(arguments,r.onValue),this},off:function(){return u(arguments,r.offValue),this}}}return new s(e)}var r=e,i=t;n["default"]=s}),n("morlock/core/responsive-image",["morlock/core/util","morlock/controllers/element-visible-controller","exports"],function(e,t,n){function h(){if(!(this instanceof h))return new h;this.element=null,this.loadedSizes={},this.knownSizes=[],this.currentBreakpoint=null,this.src=null,this.hasWebp=!1,this.isFlexible=!1,this.hasRetina=!1,this.preserveAspectRatio=!1,this.knownDimensions=null,this.hasLoaded=!1}function p(e){var t=new h;i(f(s(a,t)),e),t.knownDimensions&&t.preserveAspectRatio&&v(t);if(e.lazyLoad){var n=new c(e.element);function r(){n.off("enter",r),t.lazyLoad=!1,g(t,!0)}n.on("enter",r)}return t}function d(e){var t={};t.element=e,t.src=e.getAttribute("data-src"),t.lazyLoad=e.getAttribute("data-lazyload")==="true",t.hasWebp=e.getAttribute("data-hasWebp")==="true",t.isFlexible=e.getAttribute("data-isFlexible")!=="false",t.hasRetina=e.getAttribute("data-hasRetina")==="true"&&window.devicePixelRatio>1.5,t.preserveAspectRatio=e.getAttribute("data-preserveAspectRatio")==="true";var n=e.getAttribute("data-knownDimensions");return n&&n!=="false"&&(t.knownDimensions=[u(n.split("x")[0]),u(n.split("x")[1])]),t.knownSizes=m(t.element),t.knownDimensions&&t.preserveAspectRatio&&v(t),p(t)}function v(e){e.element.style.paddingBottom=e.knownDimensions[1]/e.knownDimensions[0]*100+"%"}function m(e){var t=e.getAttribute("data-breakpoints"),n=r(function(e){return u(e)},t?t.split(","):[]);return n.length<=0?[0]:o(n,function(t,n){return n-t})}function g(e){if(e.lazyLoad)return;var t;for(var n=0;n<e.knownSizes.length;n++){var r=e.knownSizes[n],i="only screen and (max-width: "+r+"px)";n===0&&(i="only screen");if(!l(i))break;t=r}t!==e.currentBreakpoint&&(e.currentBreakpoint=t,y(e,e.currentBreakpoint))}function y(e,t){var n=e.loadedSizes[t];if("undefined"!=typeof n)b(e,n);else{var r=new Image;r.onload=function(){e.loadedSizes[t]=r,b(e,r)},r.src=S(e,t)}}function b(e,t){return e.hasLoaded||(e.hasLoaded=!0,setTimeout(function(){e.element.className+=" loaded"},100)),e.element.tagName.toLowerCase()==="img"?w(e,t):E(e,t)}function w(e,t){e.element.src=t.src}function E(e,t){e.element.style.backgroundImage="url("+t.src+")";if(e.preserveAspectRatio){var n=Modernizr.prefixed("backgroundSize");e.element.style[n]="cover";var r,i;e.knownDimensions?(r=e.knownDimensions[0],i=e.knownDimensions[1]):(r=t.width,i=t.height),e.isFlexible?e.element.style.paddingBottom=i/r*100+"%":(e.element.style.width=r+"px",e.element.style.height=i+"px")}}function S(e,t){if(t===0)return e.src;var n=e.src.split("."),r=n.pop(),i=e.hasWebp&&Modernizr.webp?"webp":r;return n.join(".")+"-"+t+(e.hasRetina?"@2x":"")+"."+i}var r=e.map,i=e.mapObject,s=e.partial,o=e.sortBy,u=e.parseInteger,a=e.set,f=e.flip,l=e.testMQ,c=t["default"];n.create=p,n.createFromElement=d,n.update=g}),n("morlock/base",["morlock/controllers/resize-controller","morlock/controllers/scroll-controller","morlock/controllers/element-visible-controller","morlock/controllers/scroll-position-controller","morlock/core/responsive-image","morlock/core/util","exports"],function(e,t,n,r,i,s,o){function v(e){return e=h(e)?e:0,p[e]=p[e]||new a({debounceMs:e}),p[e]}function m(e){return d[e]=d[e]||g.observePosition(e),d[e]}var u=e["default"],a=t["default"],f=n["default"],l=r["default"],c=i,h=s.isDefined,p={},d={},g={onScroll:function(t){var n=v();return n.on("scroll",t)},onScrollEnd:function(t){var n=v();return n.on("scrollEnd",t)},observeElement:function(t,n){return new f(t,n)},observePosition:function(t){return new l(t)},position:{before:function(e,t){var n=m(e);return n.on("before",t)},after:function(e,t){var n=m(e);return n.on("after",t)}}};o.morlock=g,o.ResizeController=u,o.ResponsiveImage=c,o.ScrollController=a,o.ElementVisibleController=f,o.ScrollPositionController=l}),t(["morlock/base"]),t("morlock/base")});