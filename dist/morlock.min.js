/**
 * almond 0.2.6 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

window.Modernizr=function(e,t,n){function r(e){v.cssText=e}function i(e,t){return r(y.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e){var i=e[r];if(!o(i,"-")&&v[i]!==n)return t=="pfx"?i:!0}return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+w.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+E.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.7.1",c={},h=t.documentElement,p="modernizr",d=t.createElement(p),v=d.style,m,g={}.toString,y=" -webkit- -moz- -o- -ms- ".split(" "),b="Webkit Moz O ms",w=b.split(" "),E=b.toLowerCase().split(" "),S={},x={},T={},N=[],C=N.slice,k,L=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,c=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:p+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',p,'">',e,"</style>"].join(""),f.id=p,(l?f:c).innerHTML+=s,c.appendChild(f),l||(c.style.background="",c.style.overflow="hidden",a=h.style.overflow,h.style.overflow="hidden",h.appendChild(c)),o=n(f,e),l?f.parentNode.removeChild(f):(c.parentNode.removeChild(c),h.style.overflow=a),!!o},A=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return L("@media "+t+" { #"+p+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},O=function(){function e(e,i){i=i||t.createElement(r[e]||"div"),e="on"+e;var o=e in i;return o||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),o=s(i[e],"function"),s(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,o}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),M={}.hasOwnProperty,_;!s(M,"undefined")&&!s(M.call,"undefined")?_=function(e,t){return M.call(e,t)}:_=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=C.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(C.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(C.call(arguments)))};return r}),S.backgroundsize=function(){return f("backgroundSize")},S.csstransforms=function(){return!!f("transform")};for(var D in S)_(S,D)&&(k=D.toLowerCase(),c[k]=S[D](),N.push((c[k]?"":"no-")+k));return c.addTest=function(e,t){if(typeof e=="object")for(var r in e)_(e,r)&&c.addTest(r,e[r]);else{e=e.toLowerCase();if(c[e]!==n)return c;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(h.className+=" "+(t?"":"no-")+e),c[e]=t}return c},r(""),d=m=null,c._version=l,c._prefixes=y,c._domPrefixes=E,c._cssomPrefixes=w,c.mq=A,c.hasEvent=O,c.testProp=function(e){return u([e])},c.testAllProps=f,c.testStyles=L,c.prefixed=function(e,t,n){return t?f(e,t,n):f(e,"pfx")},c}(this,this.document),function(){var e=new Image;e.onerror=function(){Modernizr.addTest("webp",!1)},e.onload=function(){Modernizr.addTest("webp",function(){return e.width==1})},e.src="data:image/webp;base64,UklGRiwAAABXRUJQVlA4ICAAAAAUAgCdASoBAAEAL/3+/3+CAB/AAAFzrNsAAP5QAAAAAA=="}(),function(e,t){if(typeof define=="function"&&define.amd)define(t);else{var n=t();e.ResizeController=n.ResizeController,e.BreakpointController=n.BreakpointController,e.ResponsiveImage=n.ResponsiveImage,e.ScrollController=n.ScrollController,e.ElementVisibleController=n.ElementVisibleController,e.ScrollPositionController=n.ScrollPositionController,e.StickyElementController=n.StickyElementController,e.morlock=n.morlock}}(this,function(){var e,t,n;return function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,l.deps&&s(l.deps,l.callback),s},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../../vendor/almond",function(){}),n("morlock/core/util",["exports"],function(e){function d(e,n){return t.call(e,n)}function v(e){return d(e,0)}function m(e,t){if(n)return n.call(e,t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}function g(e,t){var n,r=0;return function(){var s=arguments,o=+(new Date),u=t-(o-r);u<=0?(clearTimeout(n),n=null,r=o,V(e,s)):n||(n=setTimeout(function(){r=+(new Date),n=null,V(e,s)},u))}}function y(e,t){var n=null;return function(){clearTimeout(n);var i=arguments;n=setTimeout(function(){n=null,e.apply(null,i)},t)}}function b(e){return e}function w(e,t){var n=Object.create(null);return t=O(t)?t:JSON.stringify,function(){var i=t.apply(this,arguments);return O(n[i])||(n[i]=e.apply(this,arguments)),n[i]}}function E(e,t){return D(function(r,i){return r[i]=e(t[i],i),r},N(t),{})}function S(e){return e.length===1?e:function(n){return e.call(this,n)}}function x(e,t){if(r)return t?r.call(t,e):t;var n=[];for(var i=0;t&&i<t.length;i++)n.push(e(t[i],i,t));return n}function T(e,t){if(i){t&&i.call(t,e);return}for(var n=0;n<t.length;n++)e(t[n],n,t)}function N(e){if(!e)return null;if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function C(e,t){return e[t]}function k(e,t,n){e[t]=n}function L(e){return function(){return V(e,s.call(arguments))}}function A(e){return!e||!e.length}function O(e){return"undefined"!=typeof e}function M(e,t){return O(e)?e:t}function _(e){var t=z(C,e);return x(t,N(e))}function D(e,t,n){if(o)return t?o.call(t,e,n):n;for(var r=0;t&&r<t.length;r++)n=e(n,t[r],r,t);return n}function P(e,t){if(u)return t?u.call(t,e):null;var n=[];for(var r=0;t&&r<t.length;r++)e(t[r],r,t)===!0&&n.push(t[r]);return n}function H(e,t){return P(it(B,e),t)}function B(e){return!e}function j(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;var i=e.toString();if(i!=t.toString())return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(F(o)&&o instanceof o&&F(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length,f=a==t.length;if(f)while(a--)if(!(f=j(e[a],t[a],n,r)))break}else{for(var l in e)if(I(e,l)){a++;if(!(f=I(t,l)&&j(e[l],t[l],n,r)))break}if(f){for(l in t)if(I(t,l)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f}function F(e){return typeof e=="function"}function I(e,t){return hasOwnProperty.call(e,t)}function q(e,t){return j(e,t,[],[])}function R(e,t){return function(){var r=e;"function"==typeof e&&(r=V(e,arguments));if(r)return V(t,arguments)}}function U(e,t){return p?p.call(e,t):function(){return e.apply(t,arguments)}}function z(e){var t=$(arguments);return p?(t.unshift(undefined),p.apply(e,t)):function(){var r=d(arguments,0);return e.apply(this,t.concat(r))}}function W(e,t){return function(){setTimeout(z(e,arguments),t)}}function X(e,t){return W(e,O(t)?t:1)()}function V(e,t){return e.apply(null,t)}function $(e,t){return t=O(t)?t:1,d(e,t)}function J(e){return V(e,$(arguments))}function Q(e,t){return t[e]}function G(e){return e[0]}function Y(e){return e[e.length-1]}function Z(e,t){var n=v(e);return a.call(n,t),n}function et(e,t){var n=v(e);return f.call(n,t),n}function tt(e,t){var n=v(e);return l.call(n,t),n}function nt(e,t){var n=v(e);return c.call(n,t),n}function rt(e,t){var n=v(e);return h.call(n,t),n}function it(){var e=arguments;return function(n){for(var r=e.length-1;r>=0;--r)n=e[r](n);return n}}function ot(e){var t=$(arguments),n=!1;return function(){if(!n)return n=!0,V(e,t)}}function ut(e){return parseInt(e,10)}function at(e){return function(){return e}}var t=Array.prototype.slice,n=Array.prototype.indexOf,r=Array.prototype.map,i=Array.prototype.forEach,s=Array.prototype.reverse,o=Array.prototype.reduce,u=Array.prototype.filter,a=Array.prototype.unshift,f=Array.prototype.shift,l=Array.prototype.push,c=Array.prototype.pop,h=Array.prototype.sort,p=Function.prototype.bind;e.identity=b,e.memoize=w,e.unary=S,e.forEach=T,e.isDefined=O,e.getOption=M;var K=L(J);e.flippedCall=K;var st=L(it);e.pipeline=st;var ft=function(){var e=window.requestAnimationFrame,t=0,n=["webkit","moz"];for(var r=0;r<n.length&&!e;++r)e=window[n[r]+"RequestAnimationFrame"];return e||(e=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=window.setTimeout(function(){n(r+i)},i);return t=r+i,s}),e}();e.indexOf=m,e.throttle=g,e.debounce=y,e.mapObject=E,e.objectKeys=N,e.functionBind=U,e.partial=z,e.map=x,e.apply=V,e.objectVals=_,e.call=J,e.push=tt,e.pop=nt,e.unshift=Z,e.equals=q,e.not=B,e.delay=W,e.unshift=Z,e.nth=Q,e.first=G,e.last=Y,e.compose=it,e.select=P,e.get=C,e.shift=et,e.when=R,e.reduce=D,e.once=ot,e.sortBy=rt,e.parseInteger=ut,e.set=k,e.flip=L,e.copyArray=v,e.defer=X,e.slice=d,e.isEmpty=A,e.reject=H,e.rest=$,e.constantly=at,e.rAF=ft}),n("morlock/core/events",["exports"],function(e){function o(e,t,i){return n.call(e,t,i,!1),s.count++,function(){r.call(e,t,i,!1),s.count--}}function u(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),i.call(e,n)}var t=[],n=window.addEventListener||function(n,r){var i=this;t.unshift([i,n,r,function(e){e.currentTarget=i,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||i,r.call(i,e)}]),this.attachEvent("on"+n,t[0][3])},r=window.removeEventListener||function(n,r){for(var i=0,s;s=t[i];++i)if(s[0]==this&&s[1]==n&&s[2]==r)return this.detachEvent("on"+n,t.splice(i,1)[0][3])},i=window.dispatchEvent||function(e){return this.fireEvent("on"+e.type,e)},s={count:0};e.eventListenerInfo=s,e.eventListener=o,e.dispatchEvent=u}),n("morlock/core/buffer",["exports"],function(e){function t(e,n){if(!(this instanceof t))return new t(e);this.max=e,this.singleValueMode=this.max===1,this.mode=n,this.values=null,this.singleValue=null}function n(e,n){return new t(e,n)}function r(e){return e.singleValueMode?e.singleValue?1:0:e.values?e.values.length:0}function i(e,t){if(r(e)===e.max)if(!e.singleValueMode&&"sliding"===e.mode)e.values.shift();else if("dropping"===e.mode)return;e.singleValueMode?e.singleValue=t:(r(e)||(e.values=[]),e.values.push(t))}function s(e){return e.singleValueMode?e.singleValue:e.values&&e.values[e.values.length-1]}function o(e,t){if(e.singleValueMode)e.singleValue=e.singleValue||t;else while(!e.values||e.values.length<e.max)i(e,t)}function u(e){if(e.singleValueMode)return e.singleValue;var t=0;for(var n=0;e.values,n<e.values.length;n++)t+=e.values[n];return t}function a(e){if(e.singleValueMode)return e.singleValue;var t=u(e);return e.values?e.values.length?t/e.values.length:0:null}function f(e){e.singleValueMode?e.singleValue=null:e.values&&(e.values.length=0,e.values=null)}e.create=n,e.len=r,e.push=i,e.lastValue=s,e.fill=o,e.sum=u,e.average=a,e.clear=f}),n("morlock/core/stream",["morlock/core/events","morlock/core/buffer","morlock/core/util","exports"],function(e,t,n,r){function A(e,t){if(!(this instanceof A))return new A(e,t);this.trackSubscribers=!!e,this.subscribers=null,this.subscriberSubscribers=null,this.streamID=k++,this.values=E(t)?t:s(1,"sliding"),this.closed=!1,this.closeSubscribers=null,this.emptySubscribers=null,L[this.streamID]=this}function O(e,t){return new A(e,t)}function M(e,t){if(e.closed)return;h(b(S(w,t)),e.subscribers),o(e.values,t)}function _(e){return a(e.values)}function D(e,t){if(e.closed)return;return e.subscribers=e.subscribers||[],e.subscribers.push(t),e.trackSubscribers&&h(b(S(w,t)),e.subscriberSubscribers),S(H,e,t)}function P(e){if(e.closed)return;e.closed=!0,u(e.values),e.subscribers&&(e.subscribers.length=0),e.closeSubscribers&&(h(w,e.closeSubscribers),e.closeSubscribers.length=0),delete L[e.streamID]}function H(e,t){if(e.subscribers){var n=N(e.subscribers,t);n!==-1&&e.subscribers.splice(n,1),e.subscribers.length<1&&(e.subscribers=null,h(w,e.emptySubscribers))}}function B(e,t){e.trackSubscribers&&(e.subscriberSubscribers||(e.subscriberSubscribers=[]),e.subscriberSubscribers.push(t))}function j(e,t){e.closeSubscribers||(e.closeSubscribers=[]),e.closeSubscribers.push(t)}function F(e,t){e.emptySubscribers||(e.emptySubscribers=[]),e.emptySubscribers.push(t)}function I(e,t){function u(){if(!s)return;o&&(o(),o=null,s=!1)}function a(){if(s)return;s=!0,o=i(e,t,function(){n.closed?u():v(r,arguments)}),j(n,u)}var n=O(!0),r=S(M,n),s=!1,o;return B(n,a),F(n,u),n}function q(e){var t=O(!0),n=S(M,t),r=function(){var i=setInterval(function(){t.closed?clearInterval(i):v(n,arguments)},e)};return B(t,x(r)),t}function R(e){var t=O(!0),n=S(M,t),r=S(setTimeout,n,e);return B(t,x(r)),t}function z(){var e=T(arguments),t=O(),n=S(M,t);return h(function(e){var r=D(e,n);j(t,r)},e),t}function X(e,t,n){var r=O(),i=S(M,r),s=h(function(e){return e===W?i:e},n);return D(e,v(v,[t,s])),r}function V(e,t){return e<=0?t:X(t,c,[W,e])}function $(e,t){return e<=0?t:X(t,l,[W,e])}function J(e,t){return e<=0?t:X(t,f,[W,e])}function K(e,t){return X(t,m,[W,e])}function Q(e,t){return X(t,g,[e,W])}function G(e,t){return Q(m(S(y,e),d),t)}function Y(e){var t;return Q(function(e){return y(t,e)?!1:(t=e,!0)},e)}function Z(e,t){return X(t,m,[W,S(_,e)])}var i=e.eventListener,s=t.create,o=t.push,u=t.clear,a=t.lastValue,f=n.debounce,l=n.throttle,c=n.delay,h=n.map,p=n.memoize,d=n.first,v=n.apply,m=n.compose,g=n.when,y=n.equals,b=n.unary,w=n.flippedCall,E=n.isDefined,S=n.partial,x=n.once,T=n.copyArray,N=n.indexOf,C=n.rAF,k=0,L={};r.openStreams=L,r.close=P,r.onClose=j,r.onEmpty=F;var U=p(function(){function r(e){t.closed||(n(e),C(r))}var t=O(!0),n=S(M,t);return B(t,x(r)),t}),W=":e:";r.skipDuplicates=Y,r.create=O,r.emit=M,r.getValue=_,r.onValue=D,r.offValue=H,r.onSubscription=B,r.createFromEvents=I,r.timeout=R,r.createFromRAF=U,r.merge=z,r.delay=V,r.throttle=$,r.debounce=J,r.map=K,r.filter=Q,r.filterFirst=G,r.sample=Z,r.interval=q}),n("morlock/streams/resize-stream",["morlock/core/stream","morlock/core/util","exports"],function(e,t,n){function f(){return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}var r=e,i=t.getOption,s=t.memoize,o=t.defer,u=t.partial,a=s(function(t){t=t||{};var n=i(t.orientationChangeDelayMs,100),s=r.createFromEvents(window,"resize"),a=r.createFromEvents(window,"orientationchange"),l=r.merge(s,r.delay(n,a));return o(u(r.emit,l),10),r.skipDuplicates(r.map(f,l))});n.create=a}),n("morlock/controllers/resize-controller",["morlock/core/util","morlock/core/stream","morlock/streams/resize-stream","exports"],function(e,t,n,r){function u(e){function a(e,n){var i=e[0],s=e[1],o;i==="resizeEnd"?o=r:i==="resize"&&(o=t),o&&n(o,s)}if(this instanceof u){e=e||{};var t=o.create(e),n=i(e.debounceMs,200),r=n<=0?t:s.debounce(n,t);return{on:function(){return a(arguments,s.onValue),this},off:function(){return a(arguments,s.offValue),this},destroy:function(){s.close(t)}}}return new u(e)}var i=e.getOption,s=t,o=n;r["default"]=u}),n("morlock/core/dom",["morlock/core/util","exports"],function(e,t){function l(e,t,n){if(f("(min-"+e+":"+window[t]+"px)"))return function(){return window[t]};var r=document.documentElement;return function(){return r[n]}}function d(){return p&&window.pageYOffset!=document.documentElement.scrollTop?document.documentElement.scrollTop:window.pageYOffset||document.documentElement.scrollTop}function v(e,t,n){t=typeof t=="number"&&t||0,e&&!e.nodeType&&(e=e[0]);if(!e||1!==e.nodeType)return!1;var i=e.getBoundingClientRect();r(n)||(n=d());var s=n<0?i.top+n:i.top,o={right:i.right+t,left:i.left-t,bottom:i.bottom+t,top:s-t};return o.width=o.right-o.left,o.height=o.bottom-o.top,o}function g(e,t,n){e.style[m(t)]=n}function y(e,t){i(o(s(g,e)),t)}function b(e,t){return e.style[m(t)]}function w(e,t){t.parentNode.insertBefore(e,t)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function S(e){while(e=e.parentNode)if(e==document)return!0;return!1}function x(e){if(!S(e))return!1;var t=b(e,"display")==="none";if(t)return!1;var n=e.parentNode;return n?x(n):!0}function k(e){return e.className.length>0?e.className.split(" "):[]}function L(e,t){a(s(N,e),t)}var n=e.memoize,r=e.isDefined,i=e.mapObject,s=e.partial,o=e.flip,u=e.indexOf,a=e.forEach,f=Modernizr.mq;t.testMQ=f;var c=l("width","innerWidth","clientWidth");t.getViewportWidth=c;var h=l("height","innerHeight","clientHeight");t.getViewportHeight=h;var p=navigator.userAgent.indexOf("MSIE 10")!==-1;t.documentScrollY=d,t.getRect=v;var m=n(Modernizr.prefixed);t.cssPrefix=m,t.setStyle=g,t.setStyles=y,t.getStyle=b,t.insertBefore=w,t.detachElement=E,t.isVisible=x;var T,N,C;t.getClasses=k,!r(window.Element)||"classList"in document.documentElement?(T=function(t,n){return t.classList.contains(n)},N=function(t,n){t.classList.add(n)},C=function(t,n){t.classList.remove(n)}):(T=function(t,n){return u(k(t),n)!==-1},N=function(t,n){if(T(t))return;var r=k(t);r.push(n),t.className=r.join(" ")},C=function(t,n){if(!T(t))return;var r=k(t),i=u(r,n);r.splice(i,1),t.className=r.join(" ")}),t.addClasses=L,t.hasClass=T,t.addClass=N,t.removeClass=C}),n("morlock/streams/breakpoint-stream",["morlock/core/util","morlock/core/dom","morlock/core/stream","morlock/streams/resize-stream","exports"],function(e,t,n,r,i){function d(e,t){var n=p.create(),r;t.debounceMs?r=h.debounce(t.debounceMs,n):t.throttleMs?r=h.throttle(t.throttleMs,n):r=n;var i=u(function(e,t){var n=h.create(),i="string"==typeof e?e:v(e);return h.onValue(r,function(){var e=h.getValue(n);e=e!==null?e:!1,e!==c(i)&&h.emit(n,!e)}),h.map(o(f,[t]),n)},e);return a(h.merge,s(i))}function v(e){var t;if("undefined"!=typeof e.mq)t=e.mq;else{var n=l(e.max,Infinity),r=l(e.min,0);t="only screen",n<Infinity&&(t+=" and (max-width: "+n+"px)"),r>0&&(t+=" and (min-width: "+r+"px)")}return t}var s=e.objectVals,o=e.partial,u=e.mapObject,a=e.apply,f=e.push,l=e.getOption,c=t.testMQ,h=n,p=r;i.create=d}),n("morlock/controllers/breakpoint-controller",["morlock/core/util","morlock/core/stream","morlock/streams/breakpoint-stream","exports"],function(e,t,n,r){function p(e){function r(e,n){var r=e[0],i=e[1],s;if(r.match(/^breakpoint/)){var o=r.split(":");o.length>1?s=c.filterFirst(o[1],t):s=t,s=c.map(m,s)}s&&n(s,i)}if(this instanceof p){var t=h.create(e.breakpoints,{throttleMs:e.throttleMs,debounceMs:e.debounceMs}),n={};return t&&c.onValue(t,function(e){n[e[0]]=e[1]}),this.getActiveBreakpoints=function(){var t=u(a,s(l,n));return f(t,i(n))},{on:function(){return r(arguments,c.onValue),this},off:function(){return r(arguments,c.offValue),this}}}return new p(e)}function m(e){return[o(e),e[1]?d:v]}var i=e.objectKeys,s=e.partial,o=e.first,u=e.compose,a=e.isTrue,f=e.select,l=e.get,c=t,h=n,d="enter",v="exit";r["default"]=p}),n("morlock/streams/scroll-stream",["morlock/core/stream","morlock/core/util","morlock/core/dom","morlock/core/events","exports"],function(e,t,n,r,i){var s=e,o=t.memoize,u=t.defer,a=t.partial,f=n.documentScrollY,l=r.dispatchEvent,c=o(function(){var t,n=!0,r=s.createFromEvents(window,"scroll");s.onValue(r,function(){n=!0});var i=s.createFromRAF(),o=s.filter(function(){if(!n)return!1;n=!1;var r=f();return t!==r?(t=r,!0):!1},i);return u(a(l,window,"scroll"),10),s.map(function(){return t},o)});i.create=c}),n("morlock/controllers/scroll-controller",["morlock/core/util","morlock/core/stream","morlock/streams/scroll-stream","exports"],function(e,t,n,r){function u(e){function a(e,n){var i=e[0],s=e[1],o;i==="scrollEnd"?o=r:i==="scroll"&&(o=t),o&&n(o,s)}if(this instanceof u){e=e||{};var t=o.create(),n=i(e.debounceMs,200),r=s.debounce(n,t);return{on:function(){return a(arguments,s.onValue),this},off:function(){return a(arguments,s.offValue),this}}}return new u(e)}var i=e.getOption,s=t,o=n;r["default"]=u}),n("morlock/streams/element-tracker-stream",["morlock/core/util","morlock/core/dom","morlock/core/stream","morlock/streams/scroll-stream","morlock/streams/resize-stream","exports"],function(e,t,n,r,i,s){function h(e,t,n){function p(){i=a(),d()}function d(t){var n=u(e,h,t),o=!!n&&n.bottom>=0&&n.top<i;s&&!o?(s=!1,f.emit(r,"exit")):!s&&o&&(s=!0,f.emit(r,"enter"))}var r=f.create(),i,s=!1;n=n||{};var h=o(n.buffer,0);return f.onValue(l.create(),d),f.onValue(c.create(),p),p(),r}var o=e.getOption,u=t.getRect,a=t.getViewportHeight,f=n,l=r,c=i;s.create=h}),n("morlock/controllers/element-visible-controller",["morlock/core/util","morlock/core/stream","morlock/streams/element-tracker-stream","exports"],function(e,t,n,r){function a(e,t){function l(e,t){var i="both",s;e.length===1?s=e[0]:(i=e[0],s=e[1]);var u;i==="both"?u=n:i==="enter"?u=r:i==="exit"&&(u=f),t(u,s);var a=o.getValue(n);t===o.onValue&&a===i&&o.emit(u,a)}if(this instanceof a){var n=u.create(e,t),r=o.filter(i(s,"enter"),n),f=o.filter(i(s,"exit"),n);return{on:function(){return l(arguments,o.onValue),this},off:function(){return l(arguments,o.offValue),this}}}return new a(e,t)}var i=e.partial,s=e.equals,o=t,u=n;r["default"]=a}),n("morlock/streams/scroll-tracker-stream",["morlock/core/stream","morlock/streams/scroll-stream","exports"],function(e,t,n){function s(e){var t=i.create(),n=r.create(),s=!1,o=!0;return r.onValue(t,function(i){(o||s)&&i<e?(s=!1,r.emit(n,["before",e])):(o||!s)&&i>=e&&(s=!0,r.emit(n,["after",e])),o=!1}),n}var r=e,i=t;n.create=s}),n("morlock/controllers/scroll-position-controller",["morlock/core/stream","morlock/streams/scroll-tracker-stream","exports"],function(e,t,n){function s(e){function u(e,r){var i="both",s;e.length===1?s=e[0]:(i=e[0],s=e[1]);var u;i==="both"?u=t:i==="before"?u=n:i==="after"&&(u=o),r(u,s)}if(this instanceof s){var t=i.create(e),n=r.filterFirst("before",t),o=r.filterFirst("after",t);return{on:function(){return u(arguments,r.onValue),this},off:function(){return u(arguments,r.offValue),this}}}return new s(e)}var r=e,i=t;n["default"]=s}),n("morlock/controllers/sticky-element-controller",["morlock/core/util","morlock/core/dom","morlock/core/stream","morlock/streams/scroll-stream","morlock/streams/resize-stream","morlock/controllers/scroll-position-controller","exports"],function(e,t,n,r,i,s,o){function E(e,t,n){if(!(this instanceof E))return new E(e,t,n);this.elem=e,this.container=t,this.fixed=!1,this.useTransform=!0,this.originalZIndex="",this.elemWidth=0,this.elemHeight=0,this.containerTop=0,this.containerHeight=0,this.originalTop=0,this.spacer=document.createElement("div"),n||(n={}),this.zIndex=u(n.zIndex,1e3),this.marginTop=u(n.marginTop,0),this.useTransform=Modernizr.csstransforms&&u(n.useTransform,!0),g.onValue(y.create(),a(T,this)),g.onValue(g.debounce(64,b.create()),a(N,this)),x(this)}function S(e){k(e),e.currentTop=null,m(e.spacer),c(e.elem,{zIndex:e.originalZIndex,width:"",position:e.originalPosition,left:"",top:e.originalOffsetTop})}function x(e){var t=f(e.container,"position");t.length===0&&l(e.container,"position","relative"),e.originalZIndex=f(e.elem,"zIndex"),e.originalPosition=f(e.elem,"position"),e.originalOffsetTop=f(e.elem,"top");var n=e.elem.getBoundingClientRect();e.elemWidth=n.width,e.elemHeight=n.height;var r=v(),i=e.container.getBoundingClientRect();e.containerTop=i.top+r,e.containerHeight=i.height,e.originalTop=e.elem.offsetTop,c(e.elem,{position:"absolute",top:e.originalTop+"px",left:e.elem.offsetLeft+"px",width:e.elemWidth+"px"}),h(e.spacer,"stick-element-spacer"),c(e.spacer,{height:e.elemHeight+"px",display:f(e.elem,"display"),"float":f(e.elem,"float"),pointerEvents:"none",visibility:"hidden",opacity:0,zIndex:-1}),d(e.spacer,e.elem);var s=e.containerTop-e.marginTop;e.onBeforeHandler_||(e.onBeforeHandler_=a(k,e)),e.onAfterHandler_||(e.onAfterHandler_=a(C,e)),e.topOfContainer_&&(e.topOfContainer_.off("before",e.onBeforeHandler_),e.topOfContainer_.off("after",e.onAfterHandler_)),e.topOfContainer_=new w(s),e.topOfContainer_.on("before",e.onBeforeHandler_),e.topOfContainer_.on("after",e.onAfterHandler_),r<s?e.onBeforeHandler_():e.onAfterHandler_()}function T(e,t){if(!e.fixed)return;t<0&&(t=0);var n=t+e.marginTop-e.containerTop,r=e.containerHeight-e.elemHeight;e.useTransform?r-=e.originalTop:n+=e.originalTop,n=Math.min(n,r),e.currentTop!==n&&(e.useTransform?l(e.elem,"transform","translateY("+n+"px)"):l(e.elem,"top",n+"px"),e.currentTop=n)}function N(e){S(e),x(e),T(e,v())}function C(e){if(e.fixed)return;h(e.elem,"fixed"),c(e.elem,{zIndex:e.zIndex}),e.fixed=!0}function k(e){if(!e.fixed)return;p(e.elem,"fixed"),c(e.elem,{zIndex:e.originalZIndex,top:e.originalTop}),e.fixed=!1}var u=e.getOption,a=e.partial,f=t.getStyle,l=t.setStyle,c=t.setStyles,h=t.addClass,p=t.removeClass,d=t.insertBefore,v=t.documentScrollY,m=t.detachElement,g=n,y=r,b=i,w=s["default"];o["default"]=E}),n("morlock/core/responsive-image",["morlock/core/util","morlock/core/dom","morlock/controllers/element-visible-controller","exports"],function(e,t,n,r){function p(){if(!(this instanceof p))return new p;this.element=null,this.loadedSizes={},this.knownSizes=[],this.currentBreakpoint=null,this.src=null,this.hasWebp=!1,this.isFlexible=!1,this.hasRetina=!1,this.preserveAspectRatio=!1,this.knownDimensions=null,this.hasLoaded=!1}function d(e){var t=new p;s(l(o(f,t)),e),t.knownDimensions&&t.preserveAspectRatio&&m(t);if(e.lazyLoad){var n=new h(e.element);n.on("enter",function r(){n.off("enter",r),t.lazyLoad=!1,y(t,!0)})}return t}function v(e){var t={};t.element=e,t.src=e.getAttribute("data-src"),t.lazyLoad=e.getAttribute("data-lazyload")==="true",t.hasWebp=e.getAttribute("data-hasWebp")==="true",t.isFlexible=e.getAttribute("data-isFlexible")!=="false",t.hasRetina=e.getAttribute("data-hasRetina")==="true"&&window.devicePixelRatio>1.5,t.preserveAspectRatio=e.getAttribute("data-preserveAspectRatio")==="true";var n=e.getAttribute("data-knownDimensions");return n&&n!=="false"&&(t.knownDimensions=[a(n.split("x")[0]),a(n.split("x")[1])]),t.knownSizes=g(t.element),t.knownDimensions&&t.preserveAspectRatio&&m(t),d(t)}function m(e){e.element.style.paddingBottom=e.knownDimensions[1]/e.knownDimensions[0]*100+"%"}function g(e){var t=e.getAttribute("data-breakpoints"),n=i(function(e){return a(e)},t?t.split(","):[]);return n.length<=0?[0]:u(n,function(t,n){return n-t})}function y(e){if(e.lazyLoad)return;var t;for(var n=0;n<e.knownSizes.length;n++){var r=e.knownSizes[n],i="only screen and (max-width: "+r+"px)";n===0&&(i="only screen");if(!c(i))break;t=r}t!==e.currentBreakpoint&&(e.currentBreakpoint=t,b(e,e.currentBreakpoint))}function b(e,t){var n=e.loadedSizes[t];if("undefined"!=typeof n)w(e,n);else{var r=new Image;r.onload=function(){e.loadedSizes[t]=r,w(e,r)},r.src=x(e,t)}}function w(e,t){return e.hasLoaded||(e.hasLoaded=!0,setTimeout(function(){e.element.className+=" loaded"},100)),e.element.tagName.toLowerCase()==="img"?E(e,t):S(e,t)}function E(e,t){e.element.src=t.src}function S(e,t){e.element.style.backgroundImage="url("+t.src+")";if(e.preserveAspectRatio){var n=Modernizr.prefixed("backgroundSize");e.element.style[n]="cover";var r,i;e.knownDimensions?(r=e.knownDimensions[0],i=e.knownDimensions[1]):(r=t.width,i=t.height),e.isFlexible?e.element.style.paddingBottom=i/r*100+"%":(e.element.style.width=r+"px",e.element.style.height=i+"px")}}function x(e,t){if(t===0)return e.src;var n=e.src.split("."),r=n.pop(),i=e.hasWebp&&Modernizr.webp?"webp":r;return n.join(".")+"-"+t+(e.hasRetina?"@2x":"")+"."+i}var i=e.map,s=e.mapObject,o=e.partial,u=e.sortBy,a=e.parseInteger,f=e.set,l=e.flip,c=t.testMQ,h=n["default"];r.create=d,r.createFromElement=v,r.update=y}),n("morlock/base",["morlock/controllers/resize-controller","morlock/controllers/breakpoint-controller","morlock/controllers/scroll-controller","morlock/controllers/element-visible-controller","morlock/controllers/scroll-position-controller","morlock/controllers/sticky-element-controller","morlock/core/responsive-image","morlock/core/util","morlock/core/events","morlock/core/buffer","morlock/core/stream","exports"],function(e,t,n,r,i,s,o,u,a,f,l,c){function L(e){return x[e]=x[e]||M.observePosition(e),x[e]}function A(e){var t=!1;for(var n=0;n<T.length;n++)if(b.equals(T[n],e)){t=!0;break}if(t)return N[n];var r=new p(e);return T.push(e),N.push(r),r}function O(e){e.fn.morlockResize=function(){return e(this).each(function(){if(this!==window)return;var t=e(this);M.onResize(function(e){t.trigger("morlockResize",e)}),M.onResizeEnd(function(e){t.trigger("morlockResizeEnd",e)})})},e.fn.morlockScroll=function(){return e(this).each(function(){if(this!==window)return;var t=e(this);M.onScroll(function(){t.trigger("morlockScroll")}),M.onScrollEnd(function(){t.trigger("morlockScrollEnd")})})},e.fn.morlockElementPosition=function(t){return e(this).each(function(){if(this!==window)return;var n=e(this);M.position.before(t,function(){n.trigger("morlockElementPositionBefore",t)}),M.position.after(t,function(){n.trigger("morlockElementPositionAfter",t)})})},e.fn.morlockBreakpoint=function(t){return e(this).each(function(){if(this!==window)return;var n=e(this),r=new p(t);r.on("breakpoint",function(e){n.trigger("morlockBreakpoint",e)})})},e.fn.morlockElementVisible=function(t){return e(this).each(function(){var n=e(this),r=M.observeElement(this,t);r.on("enter",function(){n.trigger("morlockElementVisibleEnter")}),r.on("exit",function(){n.trigger("morlockElementVisibleExit")})})},e.fn.morlockStickyElement=function(t,n){return e(this).each(function(){var r=this;e(r).find(t).each(function(){e(this).data("morlockStickyElementController",new g(this,r,n))})})}}var h=e["default"],p=t["default"],d=n["default"],v=r["default"],m=i["default"],g=s["default"],y=o,b=u,w=a,E=f,S=l,x={},T=[],N=[],C=b.memoize(function(){return new h}),k=b.memoize(function(){return new d}),M={onResize:function(t){var n=C();return n.on("resize",t)},onResizeEnd:function(t){var n=C();return n.on("resizeEnd",t)},onScroll:function(t){var n=k();return n.on("scroll",t)},onScrollEnd:function(t){var n=k();return n.on("scrollEnd",t)},observeElement:function(t,n){return new v(t,n)},observePosition:function(t){return new m(t)},stickyElement:function(t,n,r){return new g(t,n,r)},breakpoint:{enter:function(e,t){var n=A({breakpoints:{singleton:e}});n.on("breakpoint:singleton",function(e){e[1]==="enter"&&t(e)})},exit:function(e,t){var n=A({breakpoints:{singleton:e}});n.on("breakpoint:singleton",function(e){e[1]==="exit"&&t(e)})}},position:{before:function(e,t){var n=L(e);return n.on("before",t)},after:function(e,t){var n=L(e);return n.on("after",t)}},enableJQuery:function(e){e||(e=jQuery);if(!e)return;O(e)}};c.morlock=M,M.Stream=S,M.Events=w,M.Buffer=E,M.Util=b,c.ResizeController=h,c.BreakpointController=p,c.ResponsiveImage=y,c.ScrollController=d,c.ElementVisibleController=v,c.ScrollPositionController=m,c.StickyElementController=g}),t(["morlock/base"]),t("morlock/base")});